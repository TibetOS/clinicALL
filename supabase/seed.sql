-- ClinicALL Seed Data
-- Run this after creating the schema to populate test data

-- ===========================================
-- CLINIC
-- ===========================================
INSERT INTO public.clinics (id, name, slug, business_id, tagline, description, address, phone, whatsapp, instagram, brand_color)
VALUES (
  '11111111-1111-1111-1111-111111111111',
  'קליניקת ד״ר שרה כהן',
  'dr-sarah',
  '515678901',
  'יופי טבעי, תוצאות מדהימות',
  'קליניקה מובילה לטיפולי אסתטיקה רפואית עם ניסיון של מעל 15 שנה. אנו מתמחים בטיפולי בוטוקס, פילרים, והצערת העור.',
  'דרך מנחם בגין 123, תל אביב',
  '03-1234567',
  '972501234567',
  'dr.sarah.clinic',
  '#0D9488'
) ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- PATIENTS
-- ===========================================
INSERT INTO public.patients (id, clinic_id, name, email, phone, risk_level, last_visit, upcoming_appointment, member_since, age, gender, aesthetic_interests, skin_type)
VALUES
  ('aaaa0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'מיכל לוי', 'michal@example.com', '050-1234567', 'low', '2025-01-05', '2025-01-15', '2023-06-15', 34, 'female', ARRAY['בוטוקס', 'פילרים'], 'רגיל'),
  ('aaaa0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'רונית כהן', 'ronit@example.com', '052-9876543', 'medium', '2025-01-03', '2025-01-12', '2022-11-20', 45, 'female', ARRAY['הצערת עור', 'טיפולי לייזר'], 'יבש'),
  ('aaaa0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'דנה אברהם', 'dana@example.com', '054-5551234', 'low', '2024-12-28', '2025-01-20', '2024-01-10', 29, 'female', ARRAY['פילרים', 'מזותרפיה'], 'משולב'),
  ('aaaa0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'יעל גולן', 'yael@example.com', '050-7778899', 'high', '2025-01-06', NULL, '2021-03-05', 52, 'female', ARRAY['בוטוקס', 'חוטים'], 'רגיש'),
  ('aaaa0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'שירה מזרחי', 'shira@example.com', '053-4445566', 'low', '2024-12-15', '2025-01-18', '2024-05-22', 38, 'female', ARRAY['פילרים'], 'שמן')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- SERVICES
-- ===========================================
INSERT INTO public.services (id, clinic_id, name, description, duration, price, category, is_active)
VALUES
  ('bbbb0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'בוטוקס - מצח', 'טיפול בוטוקס לאזור המצח להפחתת קמטים', 30, 1200, 'בוטוקס', true),
  ('bbbb0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'בוטוקס - עיניים', 'טיפול בוטוקס לאזור העיניים (רגלי עורב)', 20, 1000, 'בוטוקס', true),
  ('bbbb0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'פילר שפתיים', 'עיצוב ומילוי שפתיים בחומצה היאלורונית', 45, 2500, 'פילרים', true),
  ('bbbb0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'פילר לחיים', 'מילוי והרמת לחיים לעיצוב פנים', 45, 3000, 'פילרים', true),
  ('bbbb0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'מזותרפיה פנים', 'טיפול הזרקות ויטמינים להזנת העור', 60, 800, 'טיפולי עור', true),
  ('bbbb0001-0001-0001-0001-000000000006', '11111111-1111-1111-1111-111111111111', 'ייעוץ ראשוני', 'פגישת ייעוץ והתאמת טיפולים', 30, 0, 'ייעוץ', true),
  ('bbbb0001-0001-0001-0001-000000000007', '11111111-1111-1111-1111-111111111111', 'חוטי PDO', 'הרמת פנים באמצעות חוטים נספגים', 90, 5500, 'הרמה', true)
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- APPOINTMENTS (dates relative to CURRENT_DATE)
-- ===========================================
INSERT INTO public.appointments (id, clinic_id, patient_id, service_id, date, time, duration, status, notes)
VALUES
  ('cccc0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000001', 'bbbb0001-0001-0001-0001-000000000001', CURRENT_DATE, '09:00', 30, 'confirmed', 'טיפול חוזר'),
  ('cccc0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000002', 'bbbb0001-0001-0001-0001-000000000003', CURRENT_DATE, '10:00', 45, 'confirmed', NULL),
  ('cccc0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000003', 'bbbb0001-0001-0001-0001-000000000005', CURRENT_DATE, '11:30', 60, 'pending', 'מטופלת חדשה'),
  ('cccc0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000004', 'bbbb0001-0001-0001-0001-000000000006', CURRENT_DATE, '14:00', 30, 'confirmed', 'ייעוץ לקראת חוטים'),
  ('cccc0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000005', 'bbbb0001-0001-0001-0001-000000000004', CURRENT_DATE + 1, '09:30', 45, 'pending', NULL),
  ('cccc0001-0001-0001-0001-000000000006', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000001', 'bbbb0001-0001-0001-0001-000000000002', CURRENT_DATE + 1, '11:00', 20, 'confirmed', NULL),
  ('cccc0001-0001-0001-0001-000000000007', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000002', 'bbbb0001-0001-0001-0001-000000000007', CURRENT_DATE + 2, '10:00', 90, 'pending', 'טיפול חוטים מלא'),
  ('cccc0001-0001-0001-0001-000000000008', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000003', 'bbbb0001-0001-0001-0001-000000000001', CURRENT_DATE - 1, '15:00', 30, 'completed', 'הושלם בהצלחה')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- INVENTORY ITEMS
-- ===========================================
INSERT INTO public.inventory_items (id, clinic_id, name, sku, category, quantity, min_quantity, unit, expiry_date, supplier, status)
VALUES
  ('dddd0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'Botox Allergan 100u', 'BTX-100', 'רעלנים', 8, 5, 'בקבוקונים', '2025-06-15', 'Allergan Israel', 'ok'),
  ('dddd0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'Juvederm Ultra XC', 'JUV-ULTRA', 'פילרים', 12, 8, 'מזרקים', '2025-08-20', 'Allergan Israel', 'ok'),
  ('dddd0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'Restylane Lyft', 'RST-LYFT', 'פילרים', 4, 5, 'מזרקים', '2025-04-10', 'Galderma', 'low'),
  ('dddd0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'מחטים 30G', 'NDL-30G', 'ציוד מתכלה', 150, 100, 'יחידות', NULL, 'Medical Supplies', 'ok'),
  ('dddd0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'כפפות ניטריל M', 'GLV-NIT-M', 'ציוד מתכלה', 45, 50, 'זוגות', NULL, 'Medical Supplies', 'low'),
  ('dddd0001-0001-0001-0001-000000000006', '11111111-1111-1111-1111-111111111111', 'קרם אלחוש EMLA', 'EMLA-30', 'תרופות', 2, 5, 'שפופרות', '2025-03-01', 'Super-Pharm', 'critical'),
  ('dddd0001-0001-0001-0001-000000000007', '11111111-1111-1111-1111-111111111111', 'חוטי PDO Cog', 'PDO-COG-10', 'חוטים', 20, 10, 'יחידות', '2025-12-31', 'Aptos Israel', 'ok')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- LEADS
-- ===========================================
INSERT INTO public.leads (id, clinic_id, name, phone, email, source, stage, notes, value, created_at)
VALUES
  ('eeee0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'נועה שמעון', '050-1112233', 'noa@example.com', 'Instagram', 'new', 'התעניינה בפילרים לשפתיים', 2500, NOW() - INTERVAL '2 days'),
  ('eeee0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'טל אביב', '052-4445566', 'tal@example.com', 'Facebook', 'contacted', 'שיחה ראשונית התקיימה, מעוניינת בייעוץ', 3500, NOW() - INTERVAL '5 days'),
  ('eeee0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'אור לוי', '054-7778899', 'or@example.com', 'Google', 'consultation', 'נקבע ייעוץ ליום ראשון הקרוב', 5000, NOW() - INTERVAL '3 days'),
  ('eeee0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'מאיה כהן', '053-1234567', 'maya@example.com', 'חברה מביאה חברה', 'won', 'סגרה חבילת טיפולים', 8000, NOW() - INTERVAL '7 days'),
  ('eeee0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'רחל גרין', '050-9998877', NULL, 'Instagram', 'new', 'הגיבה לסטורי על בוטוקס', 1200, NOW() - INTERVAL '1 day'),
  ('eeee0001-0001-0001-0001-000000000006', '11111111-1111-1111-1111-111111111111', 'הילה ברק', '052-6665544', 'hila@example.com', 'Facebook', 'contacted', 'שאלות על חוטים, שלחתי מידע', 5500, NOW() - INTERVAL '4 days')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- INVOICES
-- ===========================================
INSERT INTO public.invoices (id, clinic_id, invoice_number, patient_id, patient_name, date, items, total, status)
VALUES
  ('ffff0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'INV-2025-001', 'aaaa0001-0001-0001-0001-000000000001', 'מיכל לוי', CURRENT_DATE - 5, '[{"description": "בוטוקס - מצח", "quantity": 1, "price": 1200}]', 1200, 'paid'),
  ('ffff0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'INV-2025-002', 'aaaa0001-0001-0001-0001-000000000002', 'רונית כהן', CURRENT_DATE - 3, '[{"description": "פילר שפתיים", "quantity": 1, "price": 2500}, {"description": "קרם טיפוח", "quantity": 1, "price": 200}]', 2700, 'paid'),
  ('ffff0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'INV-2025-003', 'aaaa0001-0001-0001-0001-000000000003', 'דנה אברהם', CURRENT_DATE - 1, '[{"description": "מזותרפיה פנים", "quantity": 1, "price": 800}]', 800, 'pending'),
  ('ffff0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'INV-2025-004', 'aaaa0001-0001-0001-0001-000000000004', 'יעל גולן', CURRENT_DATE - 14, '[{"description": "חוטי PDO", "quantity": 1, "price": 5500}]', 5500, 'overdue'),
  ('ffff0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'INV-2025-005', 'aaaa0001-0001-0001-0001-000000000005', 'שירה מזרחי', CURRENT_DATE, '[{"description": "פילר לחיים", "quantity": 1, "price": 3000}]', 3000, 'pending')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- CAMPAIGNS
-- ===========================================
INSERT INTO public.campaigns (id, clinic_id, name, type, status, audience, sent_count, open_rate, scheduled_date)
VALUES
  ('cccc0002-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'מבצע חורף - בוטוקס', 'sms', 'completed', 'כל הלקוחות', 245, 68.5, NOW() - INTERVAL '7 days'),
  ('cccc0002-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'תזכורת תור', 'whatsapp', 'active', 'לקוחות עם תור השבוע', 32, 95.0, NULL),
  ('cccc0002-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'ניוזלטר חודשי', 'email', 'scheduled', 'מנויי הניוזלטר', 0, NULL, NOW() + INTERVAL '3 days'),
  ('cccc0002-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'הטבת יום הולדת', 'whatsapp', 'active', 'לקוחות עם יום הולדת החודש', 18, 88.0, NULL),
  ('cccc0002-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', 'קמפיין פילרים', 'sms', 'draft', 'נשים 30-50', 0, NULL, NULL)
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- CLINICAL NOTES
-- ===========================================
INSERT INTO public.clinical_notes (id, clinic_id, patient_id, date, provider_name, treatment_type, notes, injection_points, images)
VALUES
  ('dddd0002-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000001', CURRENT_DATE - 30, 'ד״ר שרה כהן', 'בוטוקס', 'טיפול בוטוקס לאזור המצח. 20 יחידות. המטופלת סבלה היטב את הטיפול.', '[{"x": 150, "y": 80, "units": 10}, {"x": 170, "y": 80, "units": 10}]', '{}'),
  ('dddd0002-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000002', CURRENT_DATE - 14, 'ד״ר שרה כהן', 'פילר שפתיים', 'מילוי שפתיים עם 1ml Juvederm. תוצאה טבעית ויפה.', '[]', '{}'),
  ('dddd0002-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000003', CURRENT_DATE - 7, 'ד״ר שרה כהן', 'מזותרפיה', 'טיפול מזותרפיה להזנת העור. קוקטייל ויטמינים וחומצה היאלורונית.', '[]', '{}'),
  ('dddd0002-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000004', CURRENT_DATE - 60, 'ד״ר שרה כהן', 'בוטוקס', 'טיפול בוטוקס מלא - מצח, גלבלה ועיניים. סה"כ 50 יחידות.', '[{"x": 150, "y": 80, "units": 15}, {"x": 160, "y": 100, "units": 20}, {"x": 120, "y": 110, "units": 15}]', '{}')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- DECLARATIONS
-- ===========================================
INSERT INTO public.declarations (id, clinic_id, patient_id, patient_name, submitted_at, status, form_data)
VALUES
  ('eeee0002-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000001', 'מיכל לוי', NOW() - INTERVAL '30 days', 'signed', '{"allergies": false, "medications": "אין", "previousTreatments": true, "healthConditions": [], "pregnant": false, "consent": true}'),
  ('eeee0002-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000002', 'רונית כהן', NOW() - INTERVAL '14 days', 'signed', '{"allergies": true, "allergyDetails": "פניצילין", "medications": "לחץ דם", "previousTreatments": true, "healthConditions": ["יתר לחץ דם"], "pregnant": false, "consent": true}'),
  ('eeee0002-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000003', 'דנה אברהם', NOW() - INTERVAL '7 days', 'reviewed', '{"allergies": false, "medications": "אין", "previousTreatments": false, "healthConditions": [], "pregnant": false, "consent": true}'),
  ('eeee0002-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', 'aaaa0001-0001-0001-0001-000000000005', 'שירה מזרחי', NOW() - INTERVAL '1 day', 'pending', '{"allergies": false, "medications": "אין", "previousTreatments": true, "healthConditions": [], "pregnant": false, "consent": true}')
ON CONFLICT (id) DO NOTHING;

-- ===========================================
-- NOTIFICATIONS
-- ===========================================
INSERT INTO public.notifications (id, clinic_id, user_id, title, message, type, read, created_at)
VALUES
  ('aabb0001-0001-0001-0001-000000000001', '11111111-1111-1111-1111-111111111111', NULL, 'תור חדש נקבע', 'מיכל לוי קבעה תור לבוטוקס ליום ראשון', 'info', false, NOW() - INTERVAL '2 hours'),
  ('aabb0001-0001-0001-0001-000000000002', '11111111-1111-1111-1111-111111111111', NULL, 'מלאי נמוך', 'קרם אלחוש EMLA - נותרו 2 יחידות בלבד', 'warning', false, NOW() - INTERVAL '5 hours'),
  ('aabb0001-0001-0001-0001-000000000003', '11111111-1111-1111-1111-111111111111', NULL, 'תשלום התקבל', 'רונית כהן שילמה ₪2,700 עבור חשבונית INV-2025-002', 'success', true, NOW() - INTERVAL '1 day'),
  ('aabb0001-0001-0001-0001-000000000004', '11111111-1111-1111-1111-111111111111', NULL, 'הצהרת בריאות חדשה', 'שירה מזרחי הגישה הצהרת בריאות - ממתינה לבדיקה', 'info', false, NOW() - INTERVAL '1 day'),
  ('aabb0001-0001-0001-0001-000000000005', '11111111-1111-1111-1111-111111111111', NULL, 'תזכורת: חשבונית באיחור', 'יעל גולן - חשבונית INV-2025-004 באיחור של 14 יום', 'error', false, NOW() - INTERVAL '30 minutes')
ON CONFLICT (id) DO NOTHING;
